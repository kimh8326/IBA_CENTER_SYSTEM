# 버전 관리 시스템

## 현재 버전: v1.0.4

## 버전 관리 정책

### 버전 번호 체계 (Semantic Versioning)
```
MAJOR.MINOR.PATCH
```

- **MAJOR**: 호환되지 않는 API 변경
- **MINOR**: 하위 호환성을 유지하면서 기능 추가
- **PATCH**: 하위 호환성을 유지하면서 버그 수정

### 릴리스 타입
- **Stable (안정 버전)**: v1.0.0, v1.1.0, v2.0.0
- **Release Candidate**: v1.1.0-rc.1, v1.1.0-rc.2
- **Beta**: v1.1.0-beta.1, v1.1.0-beta.2
- **Alpha**: v1.1.0-alpha.1, v1.1.0-alpha.2

## 버전 히스토리

### v1.0.4 (2025-10-04)
**Android 앱 안정화 및 버그 수정**

#### 버그 수정
- 🐛 **Android 서버 연결 문제 해결**
  - 하드코딩된 서버 URL 제거
  - 사용자가 로그인 화면에서 서버 URL 설정 가능
  - Release 빌드에서 localhost 사용 문제 해결

- 🐛 **회원 상세 화면 오류 수정**
  - User 모델의 is_active 필드 null 처리 개선
  - "type 'Null' is not a subtype of type 'bool'" 오류 해결
  - 회원 관리 탭에서 회원 클릭 시 크래시 방지

#### 새로운 기능
- ✨ **로그인 화면 서버 URL 설정**
  - 설정 아이콘 클릭으로 서버 URL 입력 필드 표시/숨김
  - SharedPreferences를 통한 서버 URL 저장
  - URL 유효성 검증 (http:// 또는 https:// 필수)

#### 기술적 개선사항
- ✅ API 클라이언트 동적 서버 URL 지원
- ✅ User 모델 null safety 강화
- ✅ Android APK 설치 가이드 문서 추가

### v1.0.3 (2025-10-04)
**예약 시스템 안정화 및 알림 기능 강화**

#### 새로운 기능
- ✨ **회원 예약 취소 시 강사 알림**
  - 회원이 수업 예약을 취소하면 해당 강사에게 자동 알림 발송
  - 알림 메시지에 회원명, 수업 일시, 수업 타입, 취소 사유 포함

#### 버그 수정
- 🐛 **예약 재예약 오류 수정**
  - 취소된 예약 재예약 시 UNIQUE 제약 조건 오류 해결
  - 취소된 예약 존재 시 자동 삭제 후 재예약 처리

- 🐛 **예약 생성 후 화면 업데이트 문제 해결**
  - 예약 생성 후 스케줄 데이터 자동 새로고침
  - 예약 탭 진입 시 불필요한 오류 메시지 제거
  - BookingProvider 오류 처리 개선

#### 개선사항
- 🔧 **예약 관리 UI/UX 개선**
  - 예약 필터 순서 변경: 확정 → 취소 → 전체
  - 기본 필터를 '전체'에서 '확정'으로 변경

- 🔄 **스케줄 화면 자동 새로고침**
  - WidgetsBindingObserver 추가로 앱 재활성화 시 자동 새로고침
  - 스케줄 탭 데이터 실시간 반영

#### 기술적 개선사항
- ✅ 예약 취소 API 쿼리 최적화 (강사 ID, 수업 타입 정보 포함)
- ✅ 외래 키 제약 조건 처리 개선
- ✅ Provider 상태 관리 최적화

### v1.0.2 (2025-09-30)
**회원권 정보 표시 버그 수정**

#### 버그 수정
- 🐛 **회원 상세 화면 회원권 정보 표시 문제 해결**
  - Membership 모델의 JSON 파싱 오류 수정
  - user_id 필드 null safety 처리 추가
  - 회원 등록 시 선택한 회원권 정보가 상세 화면에서 정상 표시되도록 개선

#### 기술적 개선사항
- ✅ Membership.fromJson() 메서드 null 처리 강화
- ✅ API 응답 구조와 모델 간 호환성 개선
- ✅ 회원권 데이터 파싱 안정성 향상

### v1.0.1 (2025-09-30)
**회원관리 기능 완성**

#### 새로운 기능
- ✨ **회원 관리 기능 완전 구현**
  - 데이터베이스 스키마 완성 (users, member_profiles, memberships 테이블)
  - 서버 API 완성 (회원 등록, 목록 조회, 상세 조회, 수정, 삭제)
  - 클라이언트 UI 완성 (회원 등록 화면, 회원 목록 화면)
  - 관리자/강사 전용 인증 및 권한 관리 적용
  - 회원권 템플릿 시스템과 완전 연동

#### 개선사항
- ✅ 관리자/강사가 대시보드에서 '회원' 탭으로 직접 접근 가능
- ✅ 회원 등록 시 회원권 정보를 함께 처리
- ✅ 회원 목록에서 상태, 가입일, 최근 로그인 정보 표시
- ✅ API 응답 성능 최적화 및 에러 처리 개선

### v1.0.0 (2025-09-29)
**첫 번째 안정 릴리스**

#### 새로운 기능
- 🏃‍♀️ **필라테스 센터 관리 시스템** 기본 구조 완성
- 👤 **다중 사용자 시스템**: Master, Instructor, Member 권한 구분
- 🔐 **JWT 기반 인증 시스템**
- 📱 **Flutter 크로스플랫폼 클라이언트** (Android, iOS, Web, macOS)
- 🖥️ **Node.js + SQLite 백엔드 서버**
- 🌐 **로컬 네트워크 기반 운영** (Wi-Fi 환경)

#### 핵심 모듈
- **사용자 관리**: 회원/강사 등록, 프로필 관리
- **스케줄 관리**: 수업 일정 생성, 수정, 삭제
- **예약 시스템**: 수업 예약, 취소, 상태 관리
- **회원권 관리**: 템플릿 기반 회원권 시스템
- **대시보드**: 실시간 현황 모니터링

#### 기술 스택
- **Backend**: Node.js, Express, SQLite, JWT
- **Frontend**: Flutter (Dart)
- **Authentication**: JWT Token 기반
- **Database**: SQLite (파일 기반)
- **Network**: Local Wi-Fi (0원 서버 비용)

#### 주요 개선사항
- ✅ 한글 입력 지원 개선
- ✅ 회원 등록 후 자동 목록 새로고침
- ✅ 강사 권한으로 전체 회원 목록 조회 가능
- ✅ 수동 새로고침 버튼 추가
- ✅ 크로스플랫폼 호환성 확보

#### 알려진 이슈
- 없음

---

## 다음 계획 (v1.1.0 예정)
- 📊 **통계 및 리포트** 기능
- 📧 **알림 시스템** (SMS/푸시 알림)
- 💳 **결제 시스템** 통합
- 📸 **프로필 이미지** 업로드
- 🔄 **데이터 백업/복원** 기능
- 🎨 **테마 커스터마이징**

---

## 기여 가이드라인
1. **브랜치 전략**: `main` → `develop` → `feature/기능명`
2. **커밋 메시지**: `[타입] 간단한 설명`
3. **태그 생성**: `git tag v1.0.0` 형식
4. **릴리스 노트**: VERSION.md 업데이트 필수